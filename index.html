<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>AI UI Generator</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
          <style>
              :root{
                    --ink:#d4d4d4;
                    --ink-secondary: #a0a0a0;
                          --bg:#1e1e1e;
                                --panel:#252526;
                                      --edge:#333;
                                            --blue:#3aa3ff;
                                                  --green:#3d9a35;
                                                  --header-bg: #0d1117;
                                                  --header-height: 50px;
                                                  --card-bg: rgba(30, 30, 30, 0.7);
                                                      }
                                                          *{box-sizing:border-box}
                                                              html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;overflow:hidden}
                                                                
                                                                /* --- Header --- */
                                                                .main-header {
                                                                    position: fixed;
                                                                    top: 0;
                                                                    left: 0;
                                                                    right: 0;
                                                                    height: var(--header-height);
                                                                    background: var(--header-bg);
                                                                    border-bottom: 1px solid var(--edge);
                                                                    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                                                                    display: flex;
                                                                    align-items: center;
                                                                    justify-content: space-between;
                                                                    padding: 0 16px;
                                                                    z-index: 100;
                                                                }
                                                                .header-title {
                                                                    font-family: 'Montserrat', sans-serif;
                                                                    font-weight: 700;
                                                                    font-size: 1.1rem;
                                                                    color: #fff;
                                                                    text-shadow: 0 0 8px rgba(58, 163, 255, 0.5);
                                                                    position: absolute;
                                                                    left: 50%;
                                                                    transform: translateX(-50%);
                                                                    transition: color 0.3s ease;
                                                                }
                                                                .header-actions {
                                                                    display: flex;
                                                                    align-items: center;
                                                                    gap: 16px; /* Increased spacing */
                                                                    margin-left: auto; /* Push actions to the right */
                                                                }
                                                                .icon-btn {
                                                                    position: relative;
                                                                    background: none;
                                                                    border: none;
                                                                    padding: 6px;
                                                                    cursor: pointer;
                                                                    border-radius: 50%;
                                                                    display: flex;
                                                                    align-items: center;
                                                                    justify-content: center;
                                                                    transition: background-color 0.2s ease;
                                                                }
                                                                .icon-btn svg {
                                                                    width: 20px;
                                                                    height: 20px;
                                                                    fill: var(--ink);
                                                                    transition: fill 0.2s ease;
                                                                }
                                                                .icon-btn:hover {
                                                                    background-color: rgba(58, 163, 255, 0.15); /* GT-blue glow ring */
                                                                }
                                                                .icon-btn:hover svg {
                                                                    fill: var(--blue);
                                                                }
                                                                 /* Styles for new outline icons */
                                                                .icon-btn .outline-icon {
                                                                    fill: none;
                                                                    stroke: var(--ink);
                                                                    stroke-width: 1.5;
                                                                    transition: stroke 0.2s ease;
                                                                }
                                                                .icon-btn:hover .outline-icon {
                                                                    stroke: var(--blue);
                                                                }
                                                                /* Override parent fill hover for outline icons */
                                                                .icon-btn:hover svg.outline-icon {
                                                                    fill: none;
                                                                }

                                                                .tooltip {
                                                                    position: absolute;
                                                                    bottom: calc(100% + 8px);
                                                                    left: 50%;
                                                                    transform: translateX(-50%);
                                                                    background: rgba(40, 40, 40, 0.7);
                                                                    backdrop-filter: blur(8px);
                                                                    color: #fff;
                                                                    padding: 6px 10px;
                                                                    border-radius: 6px;
                                                                    white-space: nowrap;
                                                                    visibility: hidden;
                                                                    opacity: 0;
                                                                    pointer-events: none;
                                                                    border: 1px solid rgba(58, 163, 255, 0.3);
                                                                    font-family: 'Montserrat', sans-serif;
                                                                    font-weight: 600;
                                                                    font-size: 0.9rem;
                                                                    transition: opacity 0.15s ease, visibility 0.15s ease, transform 0.15s ease;
                                                                    z-index: 101;
                                                                }
                                                                .icon-btn:hover .tooltip {
                                                                    visibility: visible;
                                                                    opacity: 1;
                                                                    transform: translateX(-50%) translateY(-4px);
                                                                }
                                                                .tooltip.show-on-touch {
                                                                    visibility: visible;
                                                                    opacity: 1;
                                                                    transform: translateX(-50%) translateY(-4px);
                                                                }
                                                                
                                                                /* Reposition right-most tooltip to prevent overflow */
                                                                .header-actions .icon-btn:last-child .tooltip {
                                                                    left: auto;
                                                                    right: 0;
                                                                    transform: translateX(0);
                                                                }
                                                                .header-actions .icon-btn:last-child:hover .tooltip,
                                                                .header-actions .icon-btn:last-child .tooltip.show-on-touch {
                                                                    transform: translateX(0) translateY(-4px);
                                                                }

                                                                /* --- Hamburger Hub --- */
                                                                .hamburger-hub {
                                                                    position: absolute;
                                                                    top: calc(var(--header-height) + 8px);
                                                                    left: 16px;
                                                                    background: rgba(13, 17, 23, 0.65);
                                                                    backdrop-filter: blur(10px);
                                                                    border: 1px solid var(--edge);
                                                                    border-radius: 12px;
                                                                    z-index: 101;
                                                                    width: 240px;
                                                                    padding: 8px;
                                                                    visibility: hidden;
                                                                    opacity: 0;
                                                                    transform: translateY(-10px) scale(0.95);
                                                                    transform-origin: top left;
                                                                    transition: visibility 0.4s, opacity 0.4s ease, transform 0.4s ease;
                                                                }
                                                                .hamburger-hub.visible {
                                                                    visibility: visible;
                                                                    opacity: 1;
                                                                    transform: translateY(0) scale(1);
                                                                }
                                                                .hub-list {
                                                                    list-style: none;
                                                                    padding: 0;
                                                                    margin: 0;
                                                                }
                                                                .hub-item {
                                                                    padding: 10px 12px;
                                                                    border-radius: 8px;
                                                                    cursor: pointer;
                                                                    font-weight: 600;
                                                                    transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
                                                                    color: var(--ink-secondary);
                                                                    display: flex;
                                                                    align-items: center;
                                                                    justify-content: flex-start;
                                                                }
                                                                .hub-item:hover {
                                                                    background-color: rgba(58, 163, 255, 0.1);
                                                                    color: var(--ink);
                                                                }
                                                                .hub-item.active {
                                                                    color: var(--blue);
                                                                    background-color: rgba(58, 163, 255, 0.15);
                                                                    box-shadow: 0 0 8px rgba(58, 163, 255, 0.5);
                                                                }
                                                                .hub-separator {
                                                                    height: 1px;
                                                                    background: var(--edge);
                                                                    margin: 8px 0;
                                                                }

                                                                /* --- File Dropdown Menu --- */
                                                                .hub-dropdown-container {
                                                                    position: relative;
                                                                }
                                                                .hub-dropdown-menu {
                                                                    position: absolute;
                                                                    top: calc(100% + 4px);
                                                                    left: 0;
                                                                    width: 260px; /* Wider for shortcuts */
                                                                    background: rgba(25, 25, 25, 0.5);
                                                                    backdrop-filter: blur(16px);
                                                                    -webkit-backdrop-filter: blur(16px);
                                                                    border: 1px solid rgba(255, 255, 255, 0.08);
                                                                    border-radius: 12px;
                                                                    padding: 6px;
                                                                    z-index: 102;
                                                                    list-style: none;
                                                                    margin: 0;
                                                                    visibility: hidden;
                                                                    opacity: 0;
                                                                    transform: translateY(-10px) scale(0.98);
                                                                    transform-origin: top left;
                                                                    transition: visibility 0.25s, opacity 0.25s ease, transform 0.25s ease;
                                                                }
                                                                .hub-dropdown-container:hover > .hub-dropdown-menu {
                                                                    visibility: visible;
                                                                    opacity: 1;
                                                                    transform: translateY(0) scale(1);
                                                                }
                                                                .hub-dropdown-item {
                                                                    display: flex;
                                                                    justify-content: space-between;
                                                                    align-items: center;
                                                                    padding: 8px 12px;
                                                                    font-size: 0.95rem;
                                                                    font-weight: 600;
                                                                    color: var(--ink-secondary);
                                                                    border-radius: 8px;
                                                                    cursor: pointer;
                                                                    transition: background-color 0.2s ease, color 0.2s ease;
                                                                    position: relative; /* For submenu positioning */
                                                                }
                                                                .hub-dropdown-item:hover {
                                                                    background-color: rgba(58, 163, 255, 0.15);
                                                                    color: var(--ink);
                                                                }
                                                                .hub-dropdown-shortcut {
                                                                    font-size: 0.85rem;
                                                                    color: #888;
                                                                    transition: color 0.2s ease;
                                                                }
                                                                .hub-dropdown-item:hover .hub-dropdown-shortcut {
                                                                    color: var(--ink-secondary);
                                                                }
                                                                .hub-dropdown-separator {
                                                                    height: 1px;
                                                                    background: rgba(255, 255, 255, 0.08);
                                                                    margin: 6px 0;
                                                                }
                                                                /* Submenu */
                                                                .hub-dropdown-submenu-container .submenu-arrow {
                                                                    font-size: 0.8rem;
                                                                    color: #888;
                                                                    position: absolute;
                                                                    right: 12px;
                                                                    top: 50%;
                                                                    transform: translateY(-50%);
                                                                }
                                                                .hub-dropdown-submenu {
                                                                    top: -6px; /* Align with parent item */
                                                                    left: 100%;
                                                                    margin-left: 4px;
                                                                }
                                                                
                                                                /* --- Open Recent Submenu Enhancements --- */
                                                                .hub-dropdown-submenu {
                                                                    width: 280px; /* Wider for timestamp */
                                                                    background: rgba(0, 20, 40, 0.65);
                                                                    backdrop-filter: blur(12px);
                                                                    -webkit-backdrop-filter: blur(12px);
                                                                    border: 1px solid rgba(58, 163, 255, 0.2);
                                                                    box-shadow: 0 4px 15px rgba(58, 163, 255, 0.1);
                                                                    z-index: 103; /* +1 from parent */
                                                                }
                                                                .recent-project-item {
                                                                    display: flex;
                                                                    justify-content: space-between;
                                                                    align-items: center;
                                                                    padding: 10px 12px;
                                                                }
                                                                .recent-project-details {
                                                                    display: flex;
                                                                    flex-direction: column;
                                                                    gap: 4px;
                                                                    overflow: hidden; /* Prevent long names from pushing out the delete button */
                                                                }
                                                                .recent-project-name {
                                                                    font-weight: 700;
                                                                    color: var(--blue);
                                                                    white-space: nowrap;
                                                                    overflow: hidden;
                                                                    text-overflow: ellipsis;
                                                                }
                                                                .recent-project-timestamp {
                                                                    font-size: 0.8rem;
                                                                    color: var(--ink-secondary);
                                                                }
                                                                .recent-project-delete-btn {
                                                                    background: none;
                                                                    border: none;
                                                                    cursor: pointer;
                                                                    padding: 4px;
                                                                    font-size: 1rem;
                                                                    color: var(--ink-secondary);
                                                                    opacity: 0;
                                                                    transform: scale(0.8);
                                                                    transition: opacity 0.2s ease, color 0.2s ease, transform 0.2s ease;
                                                                    flex-shrink: 0;
                                                                }
                                                                .recent-project-item:hover .recent-project-delete-btn {
                                                                    opacity: 1;
                                                                    transform: scale(1);
                                                                }
                                                                .recent-project-delete-btn:hover {
                                                                    color: #ff5555; /* Red for delete action */
                                                                }

                                                                /* --- Memory Toggle --- */
                                                                .memory-toggle-container {
                                                                    display: flex;
                                                                    justify-content: space-between;
                                                                    align-items: center;
                                                                    padding: 10px 12px;
                                                                }
                                                                .memory-toggle-label {
                                                                    font-weight: 600;
                                                                    color: var(--ink-secondary);
                                                                    transition: color 0.2s ease;
                                                                }
                                                                .memory-toggle-switch {
                                                                    position: relative;
                                                                    display: inline-block;
                                                                    width: 44px;
                                                                    height: 24px;
                                                                }
                                                                .memory-toggle-switch input {
                                                                    opacity: 0;
                                                                    width: 0;
                                                                    height: 0;
                                                                }
                                                                .slider {
                                                                    position: absolute;
                                                                    cursor: pointer;
                                                                    top: 0;
                                                                    left: 0;
                                                                    right: 0;
                                                                    bottom: 0;
                                                                    background-color: #333;
                                                                    transition: .4s;
                                                                    border-radius: 24px;
                                                                }
                                                                .slider:before {
                                                                    position: absolute;
                                                                    content: "";
                                                                    height: 18px;
                                                                    width: 18px;
                                                                    left: 3px;
                                                                    bottom: 3px;
                                                                    background-color: white;
                                                                    transition: .4s;
                                                                    border-radius: 50%;
                                                                }
                                                                .memory-toggle-switch input:checked + .slider {
                                                                    background-color: var(--blue);
                                                                }
                                                                .memory-toggle-switch input:checked ~ .memory-toggle-label {
                                                                    color: var(--blue);
                                                                }
                                                                .memory-toggle-container input:checked + .slider:before {
                                                                    transform: translateX(20px);
                                                                }
                                                                
                                                                /* --- Themes --- */
                                                                body.theme-glass {
                                                                    --panel: rgba(37, 37, 38, 0.7);
                                                                    --card-bg: rgba(30, 30, 30, 0.6);
                                                                    --bg: #111;
                                                                }
                                                                body.theme-blue {
                                                                    --ink: #e0e8ff;
                                                                    --bg: #101a2e;
                                                                    --panel: #16223a;
                                                                    --edge: #2a3a5e;
                                                                    --header-bg: #0d1117;
                                                                    --card-bg: rgba(22, 34, 58, 0.7);
                                                                }

                                                                /* --- Main App Layout --- */
                                                                  .app{padding-top: var(--header-height); height:100vh;display:flex;gap:0; transition: opacity 0.4s ease-in-out;}
                                                                  .app.hidden { display: none; }
                                                                  .app.is-changing { opacity: 0; }
                                                                      .pane{height:100%;display:flex;flex-direction:column}
                                                                            .left{width:48%;min-width:320px;border-right:1px solid var(--edge);position:relative;transition:width .5s cubic-bezier(0.4,0,0.2,1)}
                                                                            .left > * {transition:opacity .3s ease}
                                                                                .right{flex:1}
                                                                                    .collapsed .left{width:0;min-width:0;border-right:0}
                                                                                        .collapsed .left > *{pointer-events:none;opacity:0}
                                                                                            .collapsed .right{flex:1}
                                                                                                .hamburger{
                                                                                                      position: static; /* No longer fixed */
                                                                                                            width:36px;height:36px;border-radius:12px;
                                                                                                                  background:rgba(255,255,255,.04);
                                                                                                                        display:flex;align-items:center;justify-content:center;
                                                                                                                              border:1px solid rgba(255,255,255,.08);cursor:pointer;
                                                                                                                                    transition: background-color .15s ease;
                                                                                                                                              }
                                                                                                                                                  .hamburger:hover{ background-color: rgba(255, 255, 255, 0.1); }
                                                                                                                                                      .hamburger .lines{width:18px;height:14px;position:relative}
                                                                                                                                                          .hamburger .line{
                                                                                                                                                                position:absolute;left:0;right:0;height:2px;border-radius:2px;background:var(--blue);
                                                                                                                                                                      box-shadow:0 0 12px rgba(58, 163, 255, .55);
                                                                                                                                                                          }
                                                                                                                                                                              .hamburger .line:first-child{top:3px}
                                                                                                                                                                                  .hamburger .line:last-child{bottom:3px}
                                                                                                                                                                                       /* --- Scroll Spinner Section --- */
                                                                                                                                                                                      .scroll-panel-container {
                                                                                                                                                                                          position: relative; /* For arrow positioning */
                                                                                                                                                                                          flex: 1;
                                                                                                                                                                                          overflow-y: scroll;
                                                                                                                                                                                          scroll-snap-type: y mandatory;
                                                                                                                                                                                          scroll-behavior: smooth;
                                                                                                                                                                                          -webkit-mask-image: linear-gradient(to bottom, transparent, black 40px, black calc(100% - 40px), transparent);
                                                                                                                                                                                          mask-image: linear-gradient(to bottom, transparent, black 40px, black calc(100% - 40px), transparent);
                                                                                                                                                                                      }
                                                                                                                                                                                      .scroll-section {
                                                                                                                                                                                          height: 100%;
                                                                                                                                                                                          flex-shrink: 0;
                                                                                                                                                                                          scroll-snap-align: start;
                                                                                                                                                                                          display: flex;
                                                                                                                                                                                          flex-direction: column;
                                                                                                                                                                                          overflow: hidden; /* Prevent content from breaking out */
                                                                                                                                                                                      }
                                                                                                                                                                                      #editor-scroll-section {
                                                                                                                                                                                          /* No padding, editor has its own */
                                                                                                                                                                                      }
                                                                                                                                                                                      #updates-scroll-section {
                                                                                                                                                                                          display: flex;
                                                                                                                                                                                          align-items: center;
                                                                                                                                                                                          justify-content: center;
                                                                                                                                                                                          padding: 24px;
                                                                                                                                                                                      }
                                                                                                                                                                                      .gt-card-placeholder {
                                                                                                                                                                                          background: #1a1a1a;
                                                                                                                                                                                          border: 1px solid var(--edge);
                                                                                                                                                                                          border-radius: 12px;
                                                                                                                                                                                          padding: 24px;
                                                                                                                                                                                          margin: 24px;
                                                                                                                                                                                          text-align: center;
                                                                                                                                                                                          width: calc(100% - 48px);
                                                                                                                                                                                      }
                                                                                                                                                                                      .gt-card-placeholder h2 {
                                                                                                                                                                                          margin-top: 0;
                                                                                                                                                                                          color: var(--blue);
                                                                                                                                                                                          text-shadow: 0 0 8px var(--blue);
                                                                                                                                                                                      }
                                                                                                                                                                                      /* --- End Scroll Spinner Section --- */
                                                                                                                                                                                      #code-editor{
                                                                                                                                                                                            flex:1;border:0;background:#1e1e1e;color:var(--ink);
                                                                                                                                                                                                  font-family:"Courier New",Courier,monospace;font-size:14px;line-height:1.5;
                                                                                                                                                                                                        padding:12px;resize:none;outline:none;
                                                                                                                                                                                                              height: 100%; /* Ensure it fills its scroll section */
                                                                                                                                                                                                            }
                                                                                                                                                                                                                .dock{
                                                                                                                                                                                                                      position:relative;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.02));
                                                                                                                                                                                                                            border-top:1px solid var(--edge);padding:10px;display:flex;flex-direction: column;gap:8px;
                                                                                                                                                                                                                                  align-items: stretch; /* Stretch items to fill width */
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                .dock-row {
                                                                                                                                                                                                                                    display: flex;
                                                                                                                                                                                                                                    gap: 8px;
                                                                                                                                                                                                                                    align-items: center;
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                    #prompt-input{
                                                                                                                                                                                                                                          flex:1;border:1px solid #3c3c3c;background:#2a2a2a;color:var(--ink);
                                                                                                                                                                                                                                                border-radius:10px;padding:10px 12px;min-height:42px;max-height:120px;resize:vertical;outline:none;
                                                                                                                                                                                                                                                      transition:border-color .15s ease, box-shadow .15s ease;
                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                              #prompt-input:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(58, 163, 255,.18)}
                                                                                                                                                                                                                                                                  
#generate-btn{position:relative;border:0;background:transparent;border-radius:10px;padding:0;width:48px;height:42px;cursor:pointer;transition:filter .15s ease,transform .05s ease;display:flex;align-items:center;justify-content:center}
#generate-btn:hover{filter:none}
#generate-btn:active{transform:none}
#generate-btn:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(80%)}
#generate-btn:disabled .gt-orb-core{animation:none}
.gt-orb{position:relative;width:38px;height:38px;background:#0d1117;border-radius:50%;border:1px solid rgba(58,163,255,.4);box-shadow:0 0 5px rgba(58,163,255,.5),0 0 15px rgba(58,163,255,.3),0 0 30px rgba(58,163,255,.2),inset 0 0 3px rgba(255,255,255,.2);transition:all .3s cubic-bezier(.2,.8,.2,1)}
.gt-orb-core{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:12px;height:12px;background:var(--blue);border-radius:50%;box-shadow:0 0 8px var(--blue),0 0 16px rgba(255,255,255,.7);animation:pulse-core 2.5s infinite ease-in-out}
@keyframes pulse-core{0%,100%{transform:translate(-50%,-50%) scale(1);box-shadow:0 0 8px var(--blue),0 0 16px rgba(255,255,255,.7)}50%{transform:translate(-50%,-50%) scale(1.1);box-shadow:0 0 12px var(--blue),0 0 24px rgba(255,255,255,.9)}}
#generate-btn:hover .gt-orb{transform:scale(1.05);box-shadow:0 0 8px rgba(58,163,255,.7),0 0 20px rgba(58,163,255,.5),0 0 45px rgba(58,163,255,.3),inset 0 0 5px rgba(255,255,255,.3)}
#generate-btn:active .gt-orb{transform:scale(.95);transition-duration:.1s}
                                                                                                                                                                                                                                                                                              
.dock .icon-btn {
    position: relative;
    background: #2a2a2a;
    border: 1px solid #3c3c3c;
    border-radius: 10px;
    width: 42px;
    height: 42px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 0;
}
.dock .icon-btn:hover {
    border-color: var(--blue);
    background: #333;
}
.dock .icon-btn svg {
    width: 20px;
    height: 20px;
    stroke: var(--ink-secondary);
    transition: stroke 0.2s ease;
}
.dock .icon-btn:hover svg {
    stroke: var(--blue);
}
.dock .tooltip {
    bottom: calc(100% + 12px);
}

/* --- Voice Activation Animation --- */
#generate-btn .voice-rings { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; height: 100%; pointer-events: none; }
#generate-btn.listening .voice-rings::before, #generate-btn.listening .voice-rings::after {
    content: ''; position: absolute; top: 50%; left: 50%; border-radius: 50%; border: 2px solid rgba(58, 163, 255, 0.7);
    width: 100%; height: 100%; opacity: 0; animation: wave 2s infinite ease-out;
}
#generate-btn.listening .voice-rings::after { animation-delay: 1s; }
@keyframes wave {
    0% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
    100% { transform: translate(-50%, -50%) scale(2.5); opacity: 0; }
}

                                                                                                                                                                                                                                                                                                  .speech{display:flex;align-items:center;gap:8px;margin-left:8px;white-space:nowrap}
                                                                                                                                                                                                                                                                                                      #preview-frame{width:100%;height:100%;border:0;background:#fff}

                                                                                                                                                                                                                                                                                                                            /* --- Updates console --- */
                                                                                                                                                                                                                                                                                                                                #updates {
                                                                                                                                                                                                                                                                                                                                      background:#181818;
                                                                                                                                                                                                                                                                                                                                            border-top:1px solid #333;
                                                                                                                                                                                                                                                                                                                                                  height:120px;
                                                                                                                                                                                                                                                                                                                                                        overflow-y:auto;
                                                                                                                                                                                                                                                                                                                                                              font-size:12px;
                                                                                                                                                                                                                                                                                                                                                                    padding:8px 10px;
                                                                                                                                                                                                                                                                                                                                                                          font-family:monospace;
                                                                                                                                                                                                                                                                                                                                                                                color:#9bdcff;
                                                                                                                                                                                                                                                                                                                                                                                      box-shadow:inset 0 2px 4px rgba(0,0,0,.3);
                                                                                                                                                                                                                                                                                                                                                                                          width: 100%; /* Ensure it fills its container */
                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                              #updates p {
                                                                                                                                                                                                                                                                                                                                                                                                    margin:0 0 4px;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       /* --- Scroll Indicator --- */
                                                                                                                                                                                                                                                                                                                                                                                                       .scroll-indicator-container {
                                                                                                                                                                                                                                                                                                                                                                                                            position: absolute;
                                                                                                                                                                                                                                                                                                                                                                                                            bottom: 15%;
                                                                                                                                                                                                                                                                                                                                                                                                            left: 50%;
                                                                                                                                                                                                                                                                                                                                                                                                            transform: translateX(-50%);
                                                                                                                                                                                                                                                                                                                                                                                                            pointer-events: none;
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            transition: opacity 0.4s ease;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .scroll-indicator-container.visible {
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 1;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes gtScrollArrows {
                                                                                                                                                                                                                                                                                                                                                                                                          0% { opacity: 0; transform: translateY(-4px); }
                                                                                                                                                                                                                                                                                                                                                                                                          50% { opacity: 0.8; transform: translateY(0); }
                                                                                                                                                                                                                                                                                                                                                                                                          100% { opacity: 0; transform: translateY(4px); }
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-scroll-arrows {
                                                                                                                                                                                                                                                                                                                                                                                                            animation: gtScrollArrows 2.2s infinite ease-in-out;
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            flex-direction: column;
                                                                                                                                                                                                                                                                                                                                                                                                            align-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-scroll-arrows .arrow {
                                                                                                                                                                                                                                                                                                                                                                                                            width: 30px;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 30px;
                                                                                                                                                                                                                                                                                                                                                                                                            margin-top: -15px;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-scroll-arrows .arrow path {
                                                                                                                                                                                                                                                                                                                                                                                                            stroke: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            stroke-width: 1.5;
                                                                                                                                                                                                                                                                                                                                                                                                            fill: none;
                                                                                                                                                                                                                                                                                                                                                                                                            stroke-linecap: round;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       /* --- Page Container for Routing --- */
                                                                                                                                                                                                                                                                                                                                                                                                        #page-container {
                                                                                                                                                                                                                                                                                                                                                                                                            padding-top: var(--header-height);
                                                                                                                                                                                                                                                                                                                                                                                                            height: 100vh;
                                                                                                                                                                                                                                                                                                                                                                                                            overflow-y: auto;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: calc(var(--header-height) + 24px) 24px 24px;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        #page-container.hidden { display: none; }
                                                                                                                                                                                                                                                                                                                                                                                                        .page-content { max-width: 800px; margin: 0 auto; }
                                                                                                                                                                                                                                                                                                                                                                                                        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .page-title { font-size: 1.8rem; font-weight: 700; color: #fff; position: relative; padding-bottom: 8px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .page-title::after { content: ''; position: absolute; bottom: 0; left: 0; width: 50%; height: 3px; background: var(--blue); box-shadow: 0 0 12px var(--blue); border-radius: 3px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .close-page-btn { font-size: 2rem; color: var(--ink-secondary); cursor: pointer; background: none; border: none; }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-card { background: #1a1a1a; border: 1px solid var(--edge); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .form-group { margin-bottom: 20px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--ink-secondary); }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-input { width: 100%; border: 1px solid #3c3c3c; background: #2a2a2a; color: var(--ink); border-radius: 10px; padding: 10px 12px; outline: none; transition: all .15s ease; }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-input:focus { border-color: var(--blue); box-shadow: 0 0 0 3px rgba(58, 163, 255,.18); }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-button { border:0; background:var(--blue); color:#fff; border-radius:10px; padding:10px 14px; cursor:pointer; transition:filter .15s ease; }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-button:hover { filter:brightness(1.1); }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-button.secondary { background: #333; }
                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                        /* --- GT Terminal --- */
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-container {
                                                                                                                                                                                                                                                                                                                                                                                                            background: #0d1117; /* Darker than card bg for focus */
                                                                                                                                                                                                                                                                                                                                                                                                            border: 1px solid var(--edge);
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 12px;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 75vh; /* Take up most of the page view */
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            flex-direction: column;
                                                                                                                                                                                                                                                                                                                                                                                                            overflow: hidden;
                                                                                                                                                                                                                                                                                                                                                                                                            box-shadow: 0 0 20px rgba(58, 163, 255, 0.1);
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-output {
                                                                                                                                                                                                                                                                                                                                                                                                            flex: 1;
                                                                                                                                                                                                                                                                                                                                                                                                            overflow-y: auto;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 16px;
                                                                                                                                                                                                                                                                                                                                                                                                            font-family: 'Courier New', Courier, monospace;
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 14px;
                                                                                                                                                                                                                                                                                                                                                                                                            line-height: 1.6;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink);
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            white-space: pre-wrap; /* Wrap long lines */
                                                                                                                                                                                                                                                                                                                                                                                                            word-break: break-all;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-output div {
                                                                                                                                                                                                                                                                                                                                                                                                            min-height: 22px; /* Prevent layout shift */
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-input-bar {
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            align-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 12px;
                                                                                                                                                                                                                                                                                                                                                                                                            background: var(--header-bg);
                                                                                                                                                                                                                                                                                                                                                                                                            border-top: 1px solid var(--edge);
                                                                                                                                                                                                                                                                                                                                                                                                            gap: 8px;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-input-bar .gt-input {
                                                                                                                                                                                                                                                                                                                                                                                                            background: #1e1e1e; /* Match editor */
                                                                                                                                                                                                                                                                                                                                                                                                            font-family: 'Courier New', Courier, monospace;
                                                                                                                                                                                                                                                                                                                                                                                                            flex: 1;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-prompt-static {
                                                                                                                                                                                                                                                                                                                                                                                                            font-family: 'Courier New', Courier, monospace;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: bold;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-prompt {
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: bold;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-error {
                                                                                                                                                                                                                                                                                                                                                                                                            color: #ff5555;
                                                                                                                                                                                                                                                                                                                                                                                                            text-shadow: 0 0 8px rgba(255, 85, 85, 0.5);
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .terminal-cmd {
                                                                                                                                                                                                                                                                                                                                                                                                            color: #82aaff;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Toasts --- */
                                                                                                                                                                                                                                                                                                                                                                                                        #toast-container { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; display: flex; flex-direction: column; align-items: center; gap: 10px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .toast { background: var(--card-bg); backdrop-filter: blur(5px); color: #fff; padding: 10px 20px; border-radius: 8px; text-shadow: 0 0 4px var(--blue); border: 1px solid rgba(58, 163, 255, 0.3); font-size: 14px; animation: toast-in 0.3s ease forwards, toast-out 0.3s ease 2.5s forwards; }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes toast-in { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes toast-out { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(20px); } }

                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Modal --- */
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); z-index: 998; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.3s ease; }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-overlay.visible { opacity: 1; visibility: visible; }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-content { background: #1a1a1a; border: 1px solid var(--edge); padding: 24px; border-radius: 12px; width: 90%; max-width: 500px; transform: scale(0.95); transition: transform 0.3s ease; }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-overlay.visible .modal-content { transform: scale(1); }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-title { font-size: 1.2rem; font-weight: 600; }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-close-btn { background: none; border: none; color: var(--ink-secondary); font-size: 1.5rem; cursor: pointer; }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-body .gt-input { word-break: break-all; }
                                                                                                                                                                                                                                                                                                                                                                                                        .modal-footer { margin-top: 20px; text-align: right; }
                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                        /* Project Open Modal Styles */
                                                                                                                                                                                                                                                                                                                                                                                                        .project-list { list-style: none; padding: 0; margin: 0; max-height: 50vh; overflow-y: auto; }
                                                                                                                                                                                                                                                                                                                                                                                                        .project-list-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 8px; border-bottom: 1px solid var(--edge); transition: background-color 0.2s ease; }
                                                                                                                                                                                                                                                                                                                                                                                                        .project-list-item:hover { background-color: rgba(58, 163, 255, 0.05); }
                                                                                                                                                                                                                                                                                                                                                                                                        .project-info { display: flex; flex-direction: column; gap: 4px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .project-name { font-weight: 600; color: var(--ink); }
                                                                                                                                                                                                                                                                                                                                                                                                        .project-timestamp { font-size: 0.8rem; color: var(--ink-secondary); }
                                                                                                                                                                                                                                                                                                                                                                                                        .project-actions { display: flex; gap: 8px; }


                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Snapshot Banner --- */
                                                                                                                                                                                                                                                                                                                                                                                                        .snapshot-banner { background: rgba(58, 163, 255, 0.1); border: 1px solid var(--blue); padding: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; font-size: 14px; width: 100%; }
                                                                                                                                                                                                                                                                                                                                                                                                        .snapshot-banner button { margin-left: 10px; }

                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Memory Restore Prompt --- */
                                                                                                                                                                                                                                                                                                                                                                                                        #memory-prompt-container { position: fixed; bottom: 20px; left: 20px; z-index: 1000; }
                                                                                                                                                                                                                                                                                                                                                                                                        .memory-prompt {
                                                                                                                                                                                                                                                                                                                                                                                                            background: var(--card-bg);
                                                                                                                                                                                                                                                                                                                                                                                                            backdrop-filter: blur(5px);
                                                                                                                                                                                                                                                                                                                                                                                                            color: #fff;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 12px 18px;
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 8px;
                                                                                                                                                                                                                                                                                                                                                                                                            border: 1px solid rgba(58, 163, 255, 0.3);
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 14px;
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            align-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                            gap: 15px;
                                                                                                                                                                                                                                                                                                                                                                                                            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
                                                                                                                                                                                                                                                                                                                                                                                                            animation: toast-in 0.3s ease forwards;
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .memory-prompt.fade-out {
                                                                                                                                                                                                                                                                                                                                                                                                            animation: toast-out 0.3s ease forwards;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .memory-prompt span {
                                                                                                                                                                                                                                                                                                                                                                                                            text-shadow: 0 0 4px var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .memory-prompt .buttons {
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            gap: 8px;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Render Visualizer --- */
                                                                                                                                                                                                                                                                                                                                                                                                        #render-visualizer-container {
                                                                                                                                                                                                                                                                                                                                                                                                            position: fixed;
                                                                                                                                                                                                                                                                                                                                                                                                            top: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            left: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            right: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            bottom: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            z-index: 1001; /* Above modals */
                                                                                                                                                                                                                                                                                                                                                                                                            display: block;
                                                                                                                                                                                                                                                                                                                                                                                                            pointer-events: none;
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            transition: opacity 0.5s ease-in-out;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        #render-visualizer-container.visible {
                                                                                                                                                                                                                                                                                                                                                                                                            pointer-events: auto; /* Interaction lock */
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 1;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .visualizer-overlay {
                                                                                                                                                                                                                                                                                                                                                                                                            position: absolute;
                                                                                                                                                                                                                                                                                                                                                                                                            top: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            left: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            background: rgba(13, 17, 23, 0.85);
                                                                                                                                                                                                                                                                                                                                                                                                            backdrop-filter: blur(8px);
                                                                                                                                                                                                                                                                                                                                                                                                            overflow: hidden;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .visualizer-content {
                                                                                                                                                                                                                                                                                                                                                                                                            position: absolute;
                                                                                                                                                                                                                                                                                                                                                                                                            top: 50%;
                                                                                                                                                                                                                                                                                                                                                                                                            left: 50%;
                                                                                                                                                                                                                                                                                                                                                                                                            transform: translate(-50%, -50%);
                                                                                                                                                                                                                                                                                                                                                                                                            text-align: center;
                                                                                                                                                                                                                                                                                                                                                                                                            z-index: 2;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .visualizer-title {
                                                                                                                                                                                                                                                                                                                                                                                                            font-family: 'Montserrat', sans-serif;
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 2.5rem;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 700;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0 0 16px;
                                                                                                                                                                                                                                                                                                                                                                                                            letter-spacing: 1px;
                                                                                                                                                                                                                                                                                                                                                                                                            animation: pulse-glow 2.4s infinite ease-in-out;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .visualizer-subtitles {
                                                                                                                                                                                                                                                                                                                                                                                                            height: 30px; /* Reserve space to prevent layout shift */
                                                                                                                                                                                                                                                                                                                                                                                                            position: relative;
                                                                                                                                                                                                                                                                                                                                                                                                            overflow: hidden;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .visualizer-subtitle {
                                                                                                                                                                                                                                                                                                                                                                                                            position: absolute;
                                                                                                                                                                                                                                                                                                                                                                                                            width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            left: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 1rem;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink-secondary);
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            animation: hud-anim 2s ease-in-out forwards;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes hud-anim {
                                                                                                                                                                                                                                                                                                                                                                                                            0% { opacity: 0; transform: translateY(15px); filter: blur(5px); }
                                                                                                                                                                                                                                                                                                                                                                                                            20% { opacity: 1; transform: translateY(0); filter: blur(0); }
                                                                                                                                                                                                                                                                                                                                                                                                            80% { opacity: 1; transform: translateY(0); filter: blur(0); }
                                                                                                                                                                                                                                                                                                                                                                                                            100% { opacity: 0; transform: translateY(-10px); filter: blur(5px); }
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes pulse-glow {
                                                                                                                                                                                                                                                                                                                                                                                                            0%, 100% { text-shadow: 0 0 8px rgba(58, 163, 255, 0.4), 0 0 16px rgba(58, 163, 255, 0.3); }
                                                                                                                                                                                                                                                                                                                                                                                                            50% { text-shadow: 0 0 16px rgba(58, 163, 255, 0.8), 0 0 32px rgba(58, 163, 255, 0.6); }
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .lightning-bolt {
                                                                                                                                                                                                                                                                                                                                                                                                            position: absolute;
                                                                                                                                                                                                                                                                                                                                                                                                            width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 2px;
                                                                                                                                                                                                                                                                                                                                                                                                            background: linear-gradient(90deg, transparent, rgba(173, 216, 230, 0.7) 30%, var(--blue) 50%, rgba(173, 216, 230, 0.7) 70%, transparent);
                                                                                                                                                                                                                                                                                                                                                                                                            box-shadow: 0 0 8px 1px rgba(58, 163, 255, 0.5);
                                                                                                                                                                                                                                                                                                                                                                                                            z-index: 1;
                                                                                                                                                                                                                                                                                                                                                                                                            animation: scan-line 3s linear infinite;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes scan-line {
                                                                                                                                                                                                                                                                                                                                                                                                            from { transform: translateX(-100%); }
                                                                                                                                                                                                                                                                                                                                                                                                            to { transform: translateX(100%); }
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        /* --- GT Chat Renderer --- */
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-chat-container {
                                                                                                                                                                                                                                                                                                                                                                                                            width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            flex-direction: column;
                                                                                                                                                                                                                                                                                                                                                                                                            position: relative;
                                                                                                                                                                                                                                                                                                                                                                                                            overflow: hidden; /* For glass overlay */
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-chat-header {
                                                                                                                                                                                                                                                                                                                                                                                                            background-color: var(--header-bg);
                                                                                                                                                                                                                                                                                                                                                                                                            border-bottom: 1px solid var(--edge);
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 10px 20px;
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            align-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                            gap: 10px;
                                                                                                                                                                                                                                                                                                                                                                                                            font-family: 'Montserrat', sans-serif;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 600;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink);
                                                                                                                                                                                                                                                                                                                                                                                                            flex-shrink: 0;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-emblem-header {
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 700;
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 1.2rem;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            text-shadow: 0 0 8px var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-chat-messages {
                                                                                                                                                                                                                                                                                                                                                                                                            flex-grow: 1;
                                                                                                                                                                                                                                                                                                                                                                                                            overflow-y: auto;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 20px;
                                                                                                                                                                                                                                                                                                                                                                                                            -webkit-overflow-scrolling: touch; /* Momentum scrolling */
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-message-wrapper {
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            gap: 15px;
                                                                                                                                                                                                                                                                                                                                                                                                            margin-bottom: 20px;
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            transform: translateY(10px);
                                                                                                                                                                                                                                                                                                                                                                                                            transition: opacity 0.4s ease, transform 0.4s ease;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-message-wrapper.visible {
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 1;
                                                                                                                                                                                                                                                                                                                                                                                                            transform: translateY(0);
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-emblem {
                                                                                                                                                                                                                                                                                                                                                                                                            width: 32px;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 32px;
                                                                                                                                                                                                                                                                                                                                                                                                            flex-shrink: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 50%;
                                                                                                                                                                                                                                                                                                                                                                                                            background: var(--header-bg);
                                                                                                                                                                                                                                                                                                                                                                                                            border: 1px solid var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            display: grid;
                                                                                                                                                                                                                                                                                                                                                                                                            place-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                            font-family: 'Montserrat', sans-serif;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 700;
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 1.1rem;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            animation: pulse-glow-emblem 2s infinite ease-in-out;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes pulse-glow-emblem {
                                                                                                                                                                                                                                                                                                                                                                                                            0%, 100% { box-shadow: 0 0 8px rgba(58, 163, 255, 0.4); text-shadow: 0 0 8px rgba(58, 163, 255, 0.4); }
                                                                                                                                                                                                                                                                                                                                                                                                            50% { box-shadow: 0 0 16px rgba(58, 163, 255, 0.8); text-shadow: 0 0 16px rgba(58, 163, 255, 0.8); }
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-message-bubble {
                                                                                                                                                                                                                                                                                                                                                                                                            background: var(--header-bg);
                                                                                                                                                                                                                                                                                                                                                                                                            border: 1px solid var(--edge);
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 12px;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 12px 16px;
                                                                                                                                                                                                                                                                                                                                                                                                            transition: box-shadow 0.3s ease;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-message-wrapper.finished .gt-message-bubble {
                                                                                                                                                                                                                                                                                                                                                                                                            box-shadow: 0 0 12px rgba(58, 163, 255, 0.25);
                                                                                                                                                                                                                                                                                                                                                                                                            border-color: rgba(58, 163, 255, 0.5);
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-message-content {
                                                                                                                                                                                                                                                                                                                                                                                                            line-height: 1.6;
                                                                                                                                                                                                                                                                                                                                                                                                            white-space: pre-wrap;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-message-content p { margin: 0; }
                                                                                                                                                                                                                                                                                                                                                                                                        .typing-cursor {
                                                                                                                                                                                                                                                                                                                                                                                                            display: inline-block;
                                                                                                                                                                                                                                                                                                                                                                                                            width: 8px;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 1.2em;
                                                                                                                                                                                                                                                                                                                                                                                                            background-color: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            animation: blink 1s step-end infinite;
                                                                                                                                                                                                                                                                                                                                                                                                            vertical-align: bottom;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes blink { 50% { opacity: 0; } }
                                                                                                                                                                                                                                                                                                                                                                                                        .glass-overlay {
                                                                                                                                                                                                                                                                                                                                                                                                            position: absolute;
                                                                                                                                                                                                                                                                                                                                                                                                            top: 0; left: 0; width: 100%; height: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            background: linear-gradient(165deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0) 40%);
                                                                                                                                                                                                                                                                                                                                                                                                            pointer-events: none;
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: inherit;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Revision Center --- */
                                                                                                                                                                                                                                                                                                                                                                                                        #revision-center-container {
                                                                                                                                                                                                                                                                                                                                                                                                            position: fixed;
                                                                                                                                                                                                                                                                                                                                                                                                            top: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            left: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            z-index: 1010; /* Above everything else */
                                                                                                                                                                                                                                                                                                                                                                                                            pointer-events: none;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-center-overlay {
                                                                                                                                                                                                                                                                                                                                                                                                            position: absolute;
                                                                                                                                                                                                                                                                                                                                                                                                            top: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            left: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            background: rgba(13, 17, 23, 0.7);
                                                                                                                                                                                                                                                                                                                                                                                                            backdrop-filter: blur(12px);
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            align-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                            justify-content: center;
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            pointer-events: none;
                                                                                                                                                                                                                                                                                                                                                                                                            transition: opacity 0.35s ease-in;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-center-overlay.visible {
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 1;
                                                                                                                                                                                                                                                                                                                                                                                                            pointer-events: auto;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-center-panel {
                                                                                                                                                                                                                                                                                                                                                                                                            background: var(--header-bg);
                                                                                                                                                                                                                                                                                                                                                                                                            border: 1px solid rgba(58, 163, 255, 0.2);
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 12px;
                                                                                                                                                                                                                                                                                                                                                                                                            box-shadow: 0 0 20px rgba(58, 163, 255, 0.15);
                                                                                                                                                                                                                                                                                                                                                                                                            width: 90%;
                                                                                                                                                                                                                                                                                                                                                                                                            max-width: 420px;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 32px;
                                                                                                                                                                                                                                                                                                                                                                                                            text-align: center;
                                                                                                                                                                                                                                                                                                                                                                                                            font-family: 'Montserrat', sans-serif;
                                                                                                                                                                                                                                                                                                                                                                                                            transform: translateY(15px);
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            transition: transform 0.45s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.45s cubic-bezier(0.4, 0, 0.2, 1);
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-center-overlay.visible .revision-center-panel {
                                                                                                                                                                                                                                                                                                                                                                                                            transform: translateY(0);
                                                                                                                                                                                                                                                                                                                                                                                                            opacity: 1;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-breadcrumb {
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 0.9rem;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink-secondary);
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0 0 16px;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 600;
                                                                                                                                                                                                                                                                                                                                                                                                            text-align: left;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-title {
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 2.2rem;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 700;
                                                                                                                                                                                                                                                                                                                                                                                                            color: #fff;
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            text-shadow: 0 0 12px var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                             text-align: left;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-title-underline {
                                                                                                                                                                                                                                                                                                                                                                                                            width: 60px;
                                                                                                                                                                                                                                                                                                                                                                                                            height: 3px;
                                                                                                                                                                                                                                                                                                                                                                                                            background: var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 3px;
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 12px 0 16px;
                                                                                                                                                                                                                                                                                                                                                                                                            box-shadow: 0 0 12px var(--blue);
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-subtitle {
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 1rem;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink-secondary);
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0 0 32px;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 400;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-content-box {
                                                                                                                                                                                                                                                                                                                                                                                                            background: rgba(30, 30, 30, 0.5);
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 12px;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 24px;
                                                                                                                                                                                                                                                                                                                                                                                                            margin-bottom: 32px;
                                                                                                                                                                                                                                                                                                                                                                                                            text-align: center;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-empty-title {
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 1.1rem;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 600;
                                                                                                                                                                                                                                                                                                                                                                                                            color: #fff;
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0 0 8px;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-empty-subtitle {
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 0.9rem;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink-secondary);
                                                                                                                                                                                                                                                                                                                                                                                                            margin: 0;
                                                                                                                                                                                                                                                                                                                                                                                                            line-height: 1.5;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-back-btn {
                                                                                                                                                                                                                                                                                                                                                                                                            background: transparent;
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink-secondary);
                                                                                                                                                                                                                                                                                                                                                                                                            border: 1px solid var(--edge);
                                                                                                                                                                                                                                                                                                                                                                                                            border-radius: 10px;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 12px 24px;
                                                                                                                                                                                                                                                                                                                                                                                                            font-weight: 600;
                                                                                                                                                                                                                                                                                                                                                                                                            font-size: 1rem;
                                                                                                                                                                                                                                                                                                                                                                                                            cursor: pointer;
                                                                                                                                                                                                                                                                                                                                                                                                            transition: all 0.2s ease-in-out;
                                                                                                                                                                                                                                                                                                                                                                                                            width: 100%;
                                                                                                                                                                                                                                                                                                                                                                                                            margin-top: 16px;
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        .revision-back-btn:hover {
                                                                                                                                                                                                                                                                                                                                                                                                            color: var(--ink);
                                                                                                                                                                                                                                                                                                                                                                                                            border-color: var(--ink-secondary);
                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Revision Center Vault Viewer --- */
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-center-panel.vault-panel {
                                                                                                                                                                                                                                                                                                                                                                                                            max-width: 680px;
                                                                                                                                                                                                                                                                                                                                                                                                            padding: 24px;
                                                                                                                                                                                                                                                                                                                                                                                                            display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                            flex-direction: column;
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-vault-header { margin-top: 24px; margin-bottom: 16px; text-align: left; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-vault-title { font-size: 1.2rem; font-weight: 600; color: var(--blue); margin-bottom: 12px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-filters { display: flex; gap: 12px; align-items: center; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-filters .gt-input { flex-grow: 1; }
                                                                                                                                                                                                                                                                                                                                                                                                        .filter-btn-group { display: flex; background: rgba(0,0,0,0.2); border-radius: 8px; padding: 4px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .filter-btn-group .gt-button { background: transparent; border: none; padding: 6px 12px; border-radius: 6px; color: var(--ink-secondary); }
                                                                                                                                                                                                                                                                                                                                                                                                        .filter-btn-group .gt-button.active { background: var(--blue); color: #fff; box-shadow: 0 0 8px var(--blue); }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-list-container { height: 40vh; min-height: 250px; overflow-y: auto; background: rgba(0,0,0,0.2); border: 1px solid var(--edge); border-radius: 8px; padding: 8px; margin-bottom: 16px; }
                                                                                                                                                                                                                                                                                                                                                                                                        #revision-list { list-style: none; padding: 0; margin: 0; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-list-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; border-radius: 6px; cursor: pointer; border: 1px solid transparent; transition: background-color 0.2s ease, border-color 0.2s ease; border-bottom: 1px solid var(--edge); }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-list-item:last-child { border-bottom: none; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-list-item.empty { justify-content: center; color: var(--ink-secondary); cursor: default; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-list-item:hover:not(.empty) { background-color: rgba(58, 163, 255, 0.08); }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-list-item.active { background-color: rgba(58, 163, 255, 0.15); border-color: var(--blue); }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-item-details { display: flex; flex-direction: column; gap: 4px; overflow: hidden; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-item-desc { font-weight: 600; color: var(--ink); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-item-ts { font-size: 0.8rem; color: var(--ink-secondary); }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-item-delete-btn { background: none; border: none; cursor: pointer; color: var(--ink-secondary); font-size: 1rem; opacity: 0; transition: opacity 0.2s ease, color 0.2s ease; flex-shrink: 0; padding-left: 12px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-list-item:hover .revision-item-delete-btn { opacity: 0.7; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-item-delete-btn:hover { opacity: 1; color: #ff6b6b; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-actions { margin-top: 16px; display: flex; justify-content: center; gap: 12px; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; height: 0; }
                                                                                                                                                                                                                                                                                                                                                                                                        .revision-actions.visible { opacity: 1; visibility: visible; height: auto; }

                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Code Mirror Page --- */
                                                                                                                                                                                                                                                                                                                                                                                                        .code-mirror-container { background: #0d1117; border: 1px solid var(--edge); border-radius: 12px; height: 75vh; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 0 20px rgba(58, 163, 255, 0.1); }
                                                                                                                                                                                                                                                                                                                                                                                                        .code-mirror-tabs { display: flex; background: var(--header-bg); border-bottom: 1px solid var(--edge); flex-shrink: 0; }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-tab { background: none; border: none; color: var(--ink-secondary); padding: 12px 20px; cursor: pointer; font-size: 0.9rem; font-weight: 600; position: relative; transition: color 0.2s ease; }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-tab:hover { color: var(--ink); }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-tab.active { color: var(--blue); }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-tab.active::after { content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 3px; background: var(--blue); box-shadow: 0 0 8px var(--blue); border-radius: 3px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .code-mirror-content { flex: 1; overflow: hidden; position: relative; }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-panel { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow-y: auto; opacity: 0; visibility: hidden; transition: opacity 0.3s ease; }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-panel.active { opacity: 1; visibility: visible; }
                                                                                                                                                                                                                                                                                                                                                                                                        .code-viewer-pre { height: 100%; margin: 0; padding: 16px; font-family: 'Courier New', Courier, monospace; font-size: 14px; line-height: 1.6; color: var(--ink); }
                                                                                                                                                                                                                                                                                                                                                                                                        /* Syntax Highlighting */
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-tag { color: #569cd6; }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-attr-name { color: #9cdcfe; }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-attr-val { color: #ce9178; }
                                                                                                                                                                                                                                                                                                                                                                                                        .cm-comment { color: #6a9955; }
                                                                                                                                                                                                                                                                                                                                                                                                        .language-json { white-space: pre-wrap; word-break: break-all; }
                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                        /* --- Login & User Display --- */
                                                                                                                                                                                                                                                                                                                                                                                                        .login-modal-content { max-width: 400px; text-align: center; }
                                                                                                                                                                                                                                                                                                                                                                                                        .auth-button { width: 100%; padding: 12px; margin: 8px 0; border-radius: 10px; font-weight: 600; font-size: 1rem; cursor: pointer; border: 1px solid rgba(255, 255, 255, 0.2); background: rgba(30, 30, 30, 0.5); backdrop-filter: blur(5px); color: var(--ink); transition: all 0.2s ease; position: relative; overflow: hidden; }
                                                                                                                                                                                                                                                                                                                                                                                                        .auth-button::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; background: rgba(58, 163, 255, 0.3); border-radius: 50%; transform: translate(-50%, -50%); transition: width 0.3s ease, height 0.3s ease; z-index: -1;}
                                                                                                                                                                                                                                                                                                                                                                                                        .auth-button:hover { border-color: var(--blue); box-shadow: 0 0 15px rgba(58, 163, 255, 0.3); color: #fff; }
                                                                                                                                                                                                                                                                                                                                                                                                        .auth-button:hover::before { width: 200%; height: 200%; }
                                                                                                                                                                                                                                                                                                                                                                                                        .auth-button.local { background: var(--blue); border-color: var(--blue); }
                                                                                                                                                                                                                                                                                                                                                                                                        .divider { display: flex; align-items: center; text-align: center; color: var(--ink-secondary); margin: 16px 0; }
                                                                                                                                                                                                                                                                                                                                                                                                        .divider::before, .divider::after { content: ''; flex: 1; border-bottom: 1px solid var(--edge); }
                                                                                                                                                                                                                                                                                                                                                                                                        .divider:not(:empty)::before { margin-right: .25em; }
                                                                                                                                                                                                                                                                                                                                                                                                        .divider:not(:empty)::after { margin-left: .25em; }

                                                                                                                                                                                                                                                                                                                                                                                                        #user-display { display: flex; align-items: center; gap: 10px; position: relative; left: -10px; }
                                                                                                                                                                                                                                                                                                                                                                                                        .username { font-weight: 600; color: var(--blue); animation: blue-glow 3s infinite ease-in-out; }
                                                                                                                                                                                                                                                                                                                                                                                                        .username-full { display: inline; }
                                                                                                                                                                                                                                                                                                                                                                                                        .username-initial { display: none; }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-gold-badge { width: 22px; height: 22px; cursor: pointer; transition: transform 0.2s ease, filter 0.2s ease; position: relative; overflow: hidden; border-radius: 50%; }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-gold-badge:hover { transform: scale(1.15); filter: brightness(1.1); }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-gold-badge .badge-text { font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 14px; fill: rgba(0,0,0,0.6); }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-gold-badge::after { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(to right, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%); transform: rotate(30deg); opacity: 0; transition: opacity 0.4s ease; pointer-events: none; }
                                                                                                                                                                                                                                                                                                                                                                                                        .gt-gold-badge:hover::after { opacity: 1; animation: shimmer 1.5s infinite; }

                                                                                                                                                                                                                                                                                                                                                                                                        @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
                                                                                                                                                                                                                                                                                                                                                                                                                @media (max-width:900px){.left{width:56%}.speech{display:none}}
                                                                                                                                                                                                                                                                                                                                                                                                                @media (max-width: 768px) {
                                                                                                                                                                                                                                                                                                                                                                                                                  #user-display {
                                                                                                                                                                                                                                                                                                                                                                                                                      left: auto;
                                                                                                                                                                                                                                                                                                                                                                                                                      right: -10px;
                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                  .username-full { display: none; }
                                                                                                                                                                                                                                                                                                                                                                                                                  .username-initial { display: inline; }
                                                                                                                                                                                                                                                                                                                                                                                                                  .header-title { display: none; }
                                                                                                                                                                                                                                                                                                                                                                                                                  .header-actions { gap: 8px; }
                                                                                                                                                                                                                                                                                                                                                                                                                  .tooltip { 
                                                                                                                                                                                                                                                                                                                                                                                                                      font-size: 0.8rem;
                                                                                                                                                                                                                                                                                                                                                                                                                      bottom: auto;
                                                                                                                                                                                                                                                                                                                                                                                                                      top: calc(100% + 8px);
                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                  .icon-btn:hover .tooltip {
                                                                                                                                                                                                                                                                                                                                                                                                                      transform: translateX(-50%) translateY(4px);
                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                  .tooltip.show-on-touch {
                                                                                                                                                                                                                                                                                                                                                                                                                      transform: translateX(-50%) translateY(4px);
                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                  .header-actions .icon-btn:last-child:hover .tooltip,
                                                                                                                                                                                                                                                                                                                                                                                                                  .header-actions .icon-btn:last-child .tooltip.show-on-touch {
                                                                                                                                                                                                                                                                                                                                                                                                                      transform: translateX(0) translateY(4px);
                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                    /* --- Login Page Styles --- */
                                                                                                                                                                                                                                                                                                                                                                                                                    #login-page {
                                                                                                                                                                                                                                                                                                                                                                                                                        display: flex;
                                                                                                                                                                                                                                                                                                                                                                                                                        flex-direction: column;
                                                                                                                                                                                                                                                                                                                                                                                                                        align-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                                        justify-content: center;
                                                                                                                                                                                                                                                                                                                                                                                                                        height: 100vh;
                                                                                                                                                                                                                                                                                                                                                                                                                        background-color: #101a2e; /* From GT Blue Theme */
                                                                                                                                                                                                                                                                                                                                                                                                                        text-align: center;
                                                                                                                                                                                                                                                                                                                                                                                                                        font-family: 'Montserrat', sans-serif;
                                                                                                                                                                                                                                                                                                                                                                                                                        color: var(--ink);
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                    .login-title {
                                                                                                                                                                                                                                                                                                                                                                                                                        font-size: 2.5rem;
                                                                                                                                                                                                                                                                                                                                                                                                                        font-weight: 700;
                                                                                                                                                                                                                                                                                                                                                                                                                        color: #fff;
                                                                                                                                                                                                                                                                                                                                                                                                                        text-shadow: 0 0 12px var(--blue, #3aa3ff);
                                                                                                                                                                                                                                                                                                                                                                                                                        margin-bottom: 40px;
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                    #login-btn {
                                                                                                                                                                                                                                                                                                                                                                                                                        background-color: #fff;
                                                                                                                                                                                                                                                                                                                                                                                                                        color: #444;
                                                                                                                                                                                                                                                                                                                                                                                                                        border: none;
                                                                                                                                                                                                                                                                                                                                                                                                                        padding: 12px 24px;
                                                                                                                                                                                                                                                                                                                                                                                                                        font-size: 1rem;
                                                                                                                                                                                                                                                                                                                                                                                                                        font-weight: 600;
                                                                                                                                                                                                                                                                                                                                                                                                                        border-radius: 8px;
                                                                                                                                                                                                                                                                                                                                                                                                                        cursor: pointer;
                                                                                                                                                                                                                                                                                                                                                                                                                        display: inline-flex;
                                                                                                                                                                                                                                                                                                                                                                                                                        align-items: center;
                                                                                                                                                                                                                                                                                                                                                                                                                        gap: 12px;
                                                                                                                                                                                                                                                                                                                                                                                                                        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                                                                                                                                                                                                                                                                                                                                                                                                                        transition: all 0.2s ease;
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                    #login-btn:hover {
                                                                                                                                                                                                                                                                                                                                                                                                                        transform: translateY(-2px);
                                                                                                                                                                                                                                                                                                                                                                                                                        box-shadow: 0 6px 20px rgba(0,0,0,0.25);
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                    #login-btn::before {
                                                                                                                                                                                                                                                                                                                                                                                                                        content: '';
                                                                                                                                                                                                                                                                                                                                                                                                                        display: inline-block;
                                                                                                                                                                                                                                                                                                                                                                                                                        width: 24px;
                                                                                                                                                                                                                                                                                                                                                                                                                        height: 24px;
                                                                                                                                                                                                                                                                                                                                                                                                                        background-image: url('https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg');
                                                                                                                                                                                                                                                                                                                                                                                                                        background-size: contain;
                                                                                                                                                                                                                                                                                                                                                                                                                        background-repeat: no-repeat;
                                                                                                                                                                                                                                                                                                                                                                                                                        background-position: center;
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                    .login-footer {
                                                                                                                                                                                                                                                                                                                                                                                                                        margin-top: 20px;
                                                                                                                                                                                                                                                                                                                                                                                                                        font-size: 0.8rem;
                                                                                                                                                                                                                                                                                                                                                                                                                        color: var(--ink-secondary, #a0a0a0);
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                  </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.25.0"
  }
}
</script>
</head>
<body>
    <div id="login-page">
      <h1 class="login-title">GT Pilot Hub</h1>
      <button id="login-btn">Sign in with Google</button>
      <p class="login-footer">Secure login powered by Google Firebase.</p>
    </div>

    <div id="main-app" style="display: none;">
      <header class="main-header">
          <button id="collapseBtn" class="hamburger" aria-label="Toggle sidebar">
              <div class="lines">
                  <span class="line"></span>
                  <span class="line"></span>
              </div>
          </button>
          <div id="hamburger-hub" class="hamburger-hub"></div>
          <h1 class="header-title">GT Pilot Hub - Untitled Project</h1>
          <div class="header-actions">
              <div id="user-display" style="display: none;"></div>
              <button class="icon-btn" id="save-btn" aria-label="Save Project">
                  <svg viewBox="0 0 24 24"><path d="M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zM15 9H5V5h10v4z"></path></svg>
                  <span class="tooltip">Save Project</span>
              </button>
              <button class="icon-btn" id="copy-btn" aria-label="Copy App">
                  <svg viewBox="0 0 24 24"><path d="M16 1H4a2 2 0 0 0-2 2v14h2V3h12V1zm-1 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z"></path></svg>
                  <span class="tooltip">Copy App</span>
              </button>
              <button class="icon-btn" id="download-project-btn" aria-label="Download Project (.txt)">
                  <svg viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></svg>
                  <span class="tooltip">Download Project (.txt)</span>
              </button>
              <button class="icon-btn" id="github-btn" aria-label="GitHub Integration">
                  <svg viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.03-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.82c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.942.359.308.678.92.678 1.852 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z"></path></svg>
                  <span class="tooltip">GitHub Integration</span>
              </button>
              <button class="icon-btn" id="deploy-btn" aria-label="Deploy App">
                  <svg class="outline-icon" viewBox="0 0 24 24"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"></path><path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"></path><path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path></svg>
                  <span class="tooltip">Deploy App</span>
              </button>
              <button class="icon-btn" id="share-btn" aria-label="Share Link">
                  <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"></path></svg>
                  <span class="tooltip">Share Link</span>
              </button>
              <button class="icon-btn" id="api-key-btn" aria-label="API Key Manager">
                  <svg viewBox="0 0 24 24"><path d="M12.65 10A5.99 5.99 0 0 0 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 0 0 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></svg>
                  <span class="tooltip">API Key Manager</span>
              </button>
          </div>
      </header>
      
      <div id="toast-container"></div>
      <div id="modal-container"></div>
      <div id="memory-prompt-container"></div>
      <div id="render-visualizer-container"></div>
      <div id="page-container" class="hidden"></div>
      <div id="revision-center-container"></div>
      <input type="file" id="file-upload-input" style="display: none;" accept=".png,.jpg,.jpeg,.mp4,.txt,.json,.html,.tsx,.js,.zip">
      
      <div id="app" class="app">
          <section class="pane left" id="leftPane">
              <div class="scroll-panel-container">
                  <div class="scroll-section" id="editor-scroll-section">
                      <textarea id="code-editor" spellcheck="false" placeholder="Generated code will appear here..."></textarea>
                  </div>
                  <div class="scroll-section" id="updates-scroll-section">
                      <div id="updates"></div>
                  </div>
                  <div class="scroll-section">
                      <div class="gt-card-placeholder">
                          <h2>Awareness Module</h2>
                          <p>Contextual memory status and controls.</p>
                      </div>
                  </div>
                  <div class="scroll-section">
                      <div class="gt-card-placeholder">
                          <h2>GPT Blueprint</h2>
                          <p>Visualize and manage application architecture.</p>
                      </div>
                  </div>
                  <div id="scroll-indicator" class="scroll-indicator-container">
                      <div class="gt-scroll-arrows">
                          <svg class="arrow" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5"/></svg>
                          <svg class="arrow" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5"/></svg>
                          <svg class="arrow" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5"/></svg>
                      </div>
                  </div>
              </div>

              <div class="dock">
                  <div id="snapshot-banner-container"></div>
                  <div class="dock-row">
                      <textarea id="prompt-input" rows="1" placeholder="Describe what to build…"></textarea>
                      <button id="upload-btn" class="icon-btn dock-icon-btn" aria-label="Upload file">
                          <svg class="outline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                          <span class="tooltip">Upload file for GT to view</span>
                      </button>
                      <button id="generate-btn" aria-label="Generate">
                          <div class="voice-rings"></div>
                          <div class="gt-orb">
                              <div class="gt-orb-core"></div>
                          </div>
                      </button>
                      <div class="speech">
                          <label><input type="checkbox" id="read-aloud-checkbox" checked> Read Aloud</label>
                          <label for="volume-slider">Vol:</label>
                          <input type="range" id="volume-slider" min="0" max="1" value="1" step="0.1">
                      </div>
                  </div>
              </div>
          </section>

          <section class="pane right">
              <iframe id="preview-frame" sandbox="allow-scripts allow-same-origin"></iframe>
          </section>
      </div>
    </div>


<!-- Firebase (compat builds for initialization) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script>
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCH3CcxpqEPTylYtVSxOG9msMuQ4LO9-JI",
    authDomain: "gt-pilot-hub.firebaseapp.com",
    projectId: "gt-pilot-hub",
    storageBucket: "gt-pilot-hub.firebasestorage.app",
    messagingSenderId: "339525109441",
    appId: "1:339525109441:web:fd8863f5c451238cc9f640",
    measurementId: "G-G3HPFF4WPV"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  window.onload = function() {
    const loginButton = document.getElementById("login-btn");
    if (!loginButton) return;

    const showMainApp = () => {
        const loginPage = document.getElementById('login-page');
        const mainApp = document.getElementById('main-app');
        if (loginPage && mainApp) {
            loginPage.style.display = 'none';
            mainApp.style.display = 'block';
        }
    };

    loginButton.addEventListener("click", () => {
        // In environments like the AI Studio preview where popups and certain storage
        // mechanisms are restricted, Firebase Auth may fail. We'll bypass it.
        if (!window.isSecureContext) {
            console.warn("⚠️ Insecure context. Bypassing Firebase auth for preview.");
            showMainApp();
            return;
        }

        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithPopup(provider)
          .then((result) => {
            const user = result.user;
            console.log("✅ Signed in as:", user.displayName, user.email);
            showMainApp();
          })
          .catch((error) => {
            if (error.code === 'auth/operation-not-supported-in-this-environment') {
              console.warn("⚠️ Firebase auth not supported in this environment. Bypassing for preview.");
              showMainApp();
            } else {
              console.error("❌ Login failed:", error);
              alert("Login failed. Check console for details.");
            }
          });
    });
  };
</script>
</body>
</html>